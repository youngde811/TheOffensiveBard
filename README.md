# The Insolent Bard

A Shakespearean insult generator with Rust CLI and iOS app.

## Overview

The Insolent Bard is a data-driven insult generator written in **Rust** that creates authentic-sounding
Shakespearean insults. The project includes both a command-line interface and an iOS app published on the
App Store as _The Insolent Bard_.

The generator combines three-word phrases from a curated data file to create insults in the format:
"Thou [adjective] [adjective] [noun]!"

With 50 phrases per column, the system can generate **125,000 unique combinations** (50³).

### Quick Start

```bash
cd generator
cargo run
# Output: Thou gleeking flap-mouthed foot-licker!
```

## CLI Usage

### Command-Line Arguments

| Argument | Description |
| :-: |:-: |
| _-c, --count COUNT_ | Generate COUNT number of insults to standard output (default: 1) |
| _-p, --phrases PATH_ | Use PATH as the phrases source file (default: `data/phrases`) |
| _-g, --genfile PATH_ | Generate all combinations as JSON and write them to PATH |
| _-h, --help_ | Display help information |
| _-V, --version_ | Display version information |

### Examples

```bash
# Generate a single insult
cd generator && cargo run

# Generate 5 insults
cd generator && cargo run -- -c 5

# Use a custom phrases file
cd generator && cargo run -- -p /path/to/custom/phrases

# Generate JSON file for the app
cd generator && cargo run -- -g ../assets/insults.json
```

For production use, build the optimized release binary:

```bash
cd generator && cargo build --release
./target/release/genrust -c 10
```

## Phrases File Format

The generator uses a tab-delimited phrases file located in `generator/data/phrases`. Each line contains three
tab-separated tokens representing two adjectives and one noun.

### Format Requirements

- **Three columns per line**: `[adjective]\t[adjective]\t[noun]`
- **Tab-separated values**: Single tab character between each token
- **50 lines**: Creates 125,000 possible combinations (50³)

### Custom Phrases

You can provide your own phrases file using the `-p` flag. The generator validates the format and provides
helpful error messages for malformed files.

Example line:
```
gleeking	flap-mouthed	foot-licker
```

## Architecture

### Rust Generator

- **Modular Design**: Separated into focused modules (`parser`, `generator`, `error`)
- **Embedded Data**: Phrases file compiled into binary using `include_str!()` for zero-dependency execution
- **Performance**: jemalloc allocator for optimized memory management
- **CLI**: clap for robust argument parsing and automatic help generation
- **Error Handling**: Comprehensive error types with helpful messages
- **Type Safety**: Compile-time guarantees via Rust's type system

### iOS App

**The Insolent Bard** (v1.0.0) is available on the App Store. The app displays insults generated by the Rust
CLI in a JSON file and provides an intuitive interface for browsing, saving, and sharing them via SMS.

**Tech Stack:**
- React Native 0.81 + Expo 54
- FlashList for optimized list rendering
- Custom hooks architecture (`useFavorites`, `useClipboard`, `useAppContext`)
- AsyncStorage for persistent favorites

**Features:**
- Navigation drawer with multiple pages (insults, favorites, info)
- Long-press to save favorites
- Tap to copy to clipboard
- Seasonal easter eggs

## License

MIT License. See [LICENSE.md](LICENSE.md) for details.

## Credits

Based on [Kurt Blair's Shakespearean Insult Generator](https://github.com/Kurt-Blair/Shakespearean-Insult-Generator).

Inspired by [Lord Buckley's](http://www.lordbuckley.com/the-word-new/transcriptions/willie-the-shake.html) "Willie The Shake" performance.

## Author

[David E. Young](mailto:youngde811@pobox.com)
